# ðŸ”„ 11.2 CRUD Operations

CRUD stands for **Create, Read, Update, Delete** â€” the basic operations to interact with a database.

Weâ€™ll continue using **SQLite** as an example.

---

## ðŸ”‘ 1. Create (Insert)

```python
import sqlite3

conn = sqlite3.connect("users.db")
cursor = conn.cursor()

# Insert a new user
cursor.execute("INSERT INTO users (name, email) VALUES (?, ?)", ("Charlie", "charlie@example.com"))
conn.commit()
```

âœ… Adds new data to the database.

---

## ðŸ”‘ 2. Read (Select)

```python
# Fetch all users
cursor.execute("SELECT * FROM users")
rows = cursor.fetchall()

for row in rows:
    print(row)

# Fetch a specific user
cursor.execute("SELECT * FROM users WHERE name = ?", ("Alice",))
print(cursor.fetchone())
```

âœ… Reads data; can filter using **WHERE clause**.

---

## ðŸ”‘ 3. Update

```python
# Update email of a user
cursor.execute("UPDATE users SET email = ? WHERE name = ?", ("alice123@example.com", "Alice"))
conn.commit()
```

âœ… Modifies existing data in the database.

---

## ðŸ”‘ 4. Delete

```python
# Delete a user
cursor.execute("DELETE FROM users WHERE name = ?", ("Bob",))
conn.commit()
```

âœ… Removes data from the database.

---

## ðŸŽ¯ Mini Project: Simple CRUD Application

```python
import sqlite3

conn = sqlite3.connect("crud_example.db")
cursor = conn.cursor()

# Create table
cursor.execute("""
CREATE TABLE IF NOT EXISTS employees (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT,
    position TEXT
)
""")
conn.commit()

# CREATE
cursor.execute("INSERT INTO employees (name, position) VALUES (?, ?)", ("John", "Manager"))
cursor.execute("INSERT INTO employees (name, position) VALUES (?, ?)", ("Jane", "Developer"))
conn.commit()

# READ
cursor.execute("SELECT * FROM employees")
print("Employees:", cursor.fetchall())

# UPDATE
cursor.execute("UPDATE employees SET position = ? WHERE name = ?", ("Senior Developer", "Jane"))
conn.commit()

# DELETE
cursor.execute("DELETE FROM employees WHERE name = ?", ("John",))
conn.commit()

# Final Read
cursor.execute("SELECT * FROM employees")
print("After CRUD operations:", cursor.fetchall())

conn.close()
```

Output:

```
Employees: [(1, 'John', 'Manager'), (2, 'Jane', 'Developer')]
After CRUD operations: [(2, 'Jane', 'Senior Developer')]
```

âœ… Demonstrates **all CRUD operations in SQLite**.

---

## ðŸ§  Best Practices

* Always **commit** after changes (`INSERT`, `UPDATE`, `DELETE`)
* Use **parameterized queries** (`?`) to avoid SQL injection
* Close the connection after operations
* Use `fetchone()` or `fetchall()` depending on the requirement

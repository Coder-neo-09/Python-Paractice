# âš ï¸ 6.4 Exception Handling with Files

When working with files, many things can go wrong:

* File may not exist
* File may be read-only
* File may be locked by another program
* Disk may not have enough space

ğŸ‘‰ Thatâ€™s why we use **`try ... except`** with file operations.

---

## ğŸ“Œ 1. Handling Missing File

```python
try:
    with open("missing.txt", "r") as f:
        print(f.read())
except FileNotFoundError:
    print("Error: File does not exist âŒ")
```

âœ… Prevents program crash if file is missing.

---

## ğŸ“Œ 2. Handling Permission Errors

```python
try:
    with open("/system/protected.txt", "w") as f:
        f.write("data")
except PermissionError:
    print("Error: You donâ€™t have permission ğŸš«")
```

âœ… Prevents writing to restricted locations.

---

## ğŸ“Œ 3. Multiple Exceptions

```python
try:
    with open("data.txt", "r") as f:
        print(f.read())
except FileNotFoundError:
    print("Error: File not found âŒ")
except PermissionError:
    print("Error: Permission denied ğŸš«")
```

âœ… Catches specific issues separately.

---

## ğŸ“Œ 4. `finally` Block

```python
try:
    f = open("log.txt", "w")
    f.write("Logging data...")
except Exception as e:
    print("Error:", e)
finally:
    f.close()
    print("File closed âœ…")
```

âœ… Ensures file is always closed, even if error happens.

*(though using `with open(...)` is better than manually closing).*

---

## ğŸ¯ Mini Project: Safe File Reader

ğŸ‘‰ A program that safely reads user-specified files.

```python
def safe_read(filename):
    try:
        with open(filename, "r") as f:
            return f.read()
    except FileNotFoundError:
        return "âŒ Error: File not found"
    except PermissionError:
        return "ğŸš« Error: Permission denied"
    except Exception as e:
        return f"âš ï¸ Unexpected error: {e}"

print(safe_read("notes.txt"))
print(safe_read("unknown.txt"))
```

âœ… Handles different errors gracefully without crashing.

---

## ğŸ§  Best Practices

* Always handle **`FileNotFoundError`** and **`PermissionError`**
* Use `with open(...)` â†’ auto closes file
* Catch generic `Exception` only for debugging/logging, not in production
